@startuml

actor Библиотекарь
participant Библиотека
participant Каталог
participant Шкаф
participant Полка
participant Ячейка
participant Книга

Библиотекарь --> Библиотека : Запускает процесс инвентаризации
loop Для всех действий
Библиотекарь -> Библиотека : Выбирает нужное действие: chooseOption(option_number)
alt Добавить новую книгу
    Библиотекарь --> Библиотека : Выбирает "Добавить новую книгу"
    Библиотекарь -> Библиотека : Передает информацию о книге params_dict
    Библиотека -> Каталог : Добавляет книгу в каталог addBook(params_dict)
    Каталог -> Шкаф : Добавляет книгу в нужный шкаф.
    Шкаф -> Полка : Книга добавляется на нужную полку.
    Полка -> Ячейка : Книга добавляется в нужную ячейку
    Библиотека -> Книга : устанавливает статус книги на "доступна" updateBookStatus(book_id, "доступна")
else Списать книгу
    Библиотекарь --> Библиотека : Выбирает "Списать книгу"
    Библиотекарь --> Библиотека : Предоставляет идентификатор книги book_id
    Библиотека -> Библиотекарь : Запрашивает подтверждение requestDeleteConfirmation()
    Библиотекарь -> Библиотека : Подтверждает списание книги approveDeleteConfirmation()
    Библиотека -> Каталог : Удаляет книгу из активного каталога deleteBook(book_id)
    Каталог -> Шкаф : Удаляет книгу из нужного шкафа.
    Шкаф -> Полка : Книга удаляется из нужной полки.
    Полка -> Ячейка : Книга удаляется из нужной ячейки.
else Отправить поврежденную книгу на ремонт
    Библиотекарь --> Библиотека : Выбирает "Отправить книгу на ремонт"
    Библиотекарь --> Библиотека : Предоставляет идентификатор книги book_id
    Библиотека -> Книга : Обновляет статус книги на "на ремонте" updateBookStatus(book_id, "на ремонте")
end
end
Библиотекарь --> Библиотека : Завершает инвентаризацию

@enduml
